{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\insta-clone\\\\src\\\\components\\\\modal.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input } from '@material-ui/core';\nimport '../css/App.css';\nimport { auth } from '../firebaseConfig';\nimport ModalBody from './ModalBody';\nexport default function SimpleModal() {\n  const classes = useStyles(); // getModalStyle is not a pure function, we roll the style only on the first render\n\n  const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = React.useState('');\n  const [username, setUsername] = React.useState('');\n  const [user, setUser] = React.useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  useEffect(() => {\n    const unsubcrcibe = auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n    return () => {\n      unsubcrcibe();\n    };\n  }, [user, username]);\n\n  const signUp = event => {\n    event.preventDefault();\n    auth.createUserWithEmailAndPassword(email, password).then(authUser => {\n      return authUser.user.updateProfile({\n        displayName: username\n      });\n    }).catch(error => alert(error.message));\n  };\n\n  const body = /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 14\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Log out\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpenSignIn(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, \"Sign up\"), open ? /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, \"open=\", open, \"onClose=\", setOpen(true), /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signup\",\n    text: \"Sign up\",\n    onClick: singUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(Modal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, \"open=\", openSignIn, \"onClose=\", setOpenSignIn(false), /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signin\",\n    text: \"Sign In\",\n    onClick: signIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }))));\n}","map":{"version":3,"sources":["D:/React/insta-clone/src/components/modal.js"],"names":["React","useState","useEffect","makeStyles","Modal","Button","Input","auth","ModalBody","SimpleModal","classes","useStyles","modalStyle","getModalStyle","open","setOpen","email","setEmail","password","setPassword","username","setUsername","user","setUser","openSignIn","setOpenSignIn","unsubcrcibe","onAuthStateChanged","authUser","console","log","signUp","event","preventDefault","createUserWithEmailAndPassword","then","updateProfile","displayName","catch","error","alert","message","body","signOut","singUp","signIn"],"mappings":"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","sourcesContent":["\r\nimport React,{useState,useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport { Button, Input } from '@material-ui/core';\r\nimport '../css/App.css';\r\nimport {auth} from '../firebaseConfig';\r\nimport ModalBody from './ModalBody';\r\n\r\n\r\nexport default function SimpleModal() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const [username,setUsername] = React.useState('');\r\n  const [user,setUser]=React.useState(null);\r\n  const [openSignIn,setOpenSignIn]=useState(false);\r\n\r\n  useEffect(()=>{\r\n   const unsubcrcibe= auth.onAuthStateChanged(authUser=>{\r\n      if(authUser){\r\n        console.log(authUser);\r\n        setUser(authUser);\r\n\r\n      }\r\n      else{\r\n        setUser(null);\r\n      }\r\n    });\r\n    return ()=>{\r\n      unsubcrcibe();\r\n    };\r\n  },[user,username]);\r\n\r\n  const signUp=event=>{\r\n    event.preventDefault();\r\n    auth.createUserWithEmailAndPassword(email,password)\r\n    .then(authUser=>{\r\n      return authUser.user.updateProfile({displayName:username});\r\n    })\r\n    .catch((error)=>alert(error.message));\r\n  };\r\n  \r\n\r\n  const body=<ModalBody type=\"\"/>\r\n  \r\n\r\n  return (\r\n    <div>\r\n      {user?\r\n    <Button onClick={()=>auth.signOut()}>Log out</Button>\r\n  :(<div className=\"app_loginContainer\">\r\n     <Button onClick={()=>setOpenSignIn(true)}>Sign In</Button>\r\n    <Button onClick={()=>setOpen(true)}>Sign up</Button>\r\n    {open?\r\n    <Modal>\r\n        open={open}\r\n        onClose={setOpen(true)} \r\n        <ModalBody type=\"signup\" text=\"Sign up\"  onClick={singUp} />\r\n    </Modal> :\r\n    <Modal>\r\n      open={openSignIn}\r\n      onClose={setOpenSignIn(false)} \r\n      <ModalBody type=\"signin\" text=\"Sign In\" onClick={signIn}  />\r\n    </Modal> \r\n    }\r\n    </div>)\r\n      }\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}