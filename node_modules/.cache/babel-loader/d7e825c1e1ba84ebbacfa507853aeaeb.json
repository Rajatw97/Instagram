{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\insta-clone\\\\src\\\\components\\\\modal.js\";\nimport React, { useEffect } from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport '../css/App.css';\nimport { auth, db } from '../firebaseConfig';\nimport ModalBody from './ModalBody';\nimport { Button } from '@material-ui/core';\nimport { emailAction, usernameAction, passwordAction, openAction, openSignInAction, userAction } from '../actions';\nimport { connect } from 'react-redux';\nimport history from '../History';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst SimpleModal = props => {\n  useEffect(() => {\n    const unsubcrcibe = auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        console.log(authUser);\n        props.userAction(authUser);\n      } else {\n        props.userAction(null);\n      }\n    });\n    return () => {\n      unsubcrcibe();\n    };\n  }, [props.posts.user, props.posts.username]);\n\n  const signUp = event => {\n    event.preventDefault();\n    auth.createUserWithEmailAndPassword(props.posts.email, props.posts.password).then(authUser => {\n      console.log(authUser); // db.collection('users').doc(authUser.user.uid).set({\n      //   followers:[],\n      //   following:[],\n      //   bio:'',\n      //   imageUrl:''\n      // })\n\n      return authUser.user.updateProfile({\n        displayName: props.posts.username\n      });\n    }).catch(error => alert(error.message)); // setOpen(false);\n  };\n\n  const signIn = event => {\n    event.preventDefault();\n    auth.signInWithEmailAndPassword(props.posts.email, props.posts.password).catch(error => alert(error.message)); // setOpenSignIn(false);\n  };\n\n  const usernameSet = obj => {\n    props.usernameAction(obj);\n  };\n\n  const emailSet = obj => {\n    props.emailAction(obj);\n  };\n\n  const passwordSet = obj => {\n    props.passwordAction(obj);\n  };\n\n  const logoutSet = () => {\n    auth.signOut();\n    props.openAction(false);\n    props.openSignInAction(false);\n  }; // const profileUser=()=>{\n  //   console.log(\"inside user func\");\n  //   history.push('/user');\n  // }\n\n\n  const body = props.posts.open ? /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signup\",\n    text: \"Sign up\",\n    click: signUp,\n    emailprop: props.posts.email,\n    passwordprop: props.posts.password,\n    usernameprop: props.posts.username,\n    setusernameprop: usernameSet,\n    setPasswordprop: passwordSet,\n    setEmailprop: emailSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signin\",\n    text: \"Sign In\",\n    click: signIn,\n    emailprop: props.posts.email,\n    passwordprop: props.posts.password,\n    usernameprop: props.posts.username,\n    setusernameprop: usernameSet,\n    setPasswordprop: passwordSet,\n    setEmailprop: emailSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }\n  });\n  const body1 = props.posts.open ? /*#__PURE__*/React.createElement(Modal, {\n    className: \"ui model\",\n    open: props.posts.open,\n    onClose: () => props.openAction(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, body) : /*#__PURE__*/React.createElement(Modal, {\n    className: \"ui model\",\n    open: props.posts.openSignIn,\n    onClose: () => props.openSignInAction(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, body);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button_sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, props.posts.user ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_loggedinContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"button_modal\",\n    style: {\n      marginTop: \"-50px\",\n      marginRight: \"90px\"\n    },\n    onClick: logoutSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"Log out\"), console.log(props.posts.user.displayName), /*#__PURE__*/React.createElement(Avatar, {\n    className: \"button_modal\",\n    style: {\n      marginTop: \"-50px\",\n      marginRight: \"20px\",\n      border: \"none\"\n    },\n    alt: props.posts.user.displayName,\n    src: \"/static/images/avatar/1.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"button_modal\",\n    style: {\n      marginTop: \"-50px\",\n      marginRight: \"90px\"\n    },\n    onClick: () => props.openSignInAction(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"button_modal\",\n    style: {\n      marginTop: \"-50px\"\n    },\n    onClick: () => props.openAction(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"Sign up\"), body1));\n};\n\nconst mapStatetoProps = state => {\n  return {\n    posts: state\n  };\n};\n\nexport default connect(mapStatetoProps, {\n  emailAction,\n  usernameAction,\n  passwordAction,\n  openAction,\n  openSignInAction,\n  userAction\n})(SimpleModal);","map":{"version":3,"sources":["D:/React/insta-clone/src/components/modal.js"],"names":["React","useEffect","Modal","auth","db","ModalBody","Button","emailAction","usernameAction","passwordAction","openAction","openSignInAction","userAction","connect","history","Avatar","SimpleModal","props","unsubcrcibe","onAuthStateChanged","authUser","console","log","posts","user","username","signUp","event","preventDefault","createUserWithEmailAndPassword","email","password","then","updateProfile","displayName","catch","error","alert","message","signIn","signInWithEmailAndPassword","usernameSet","obj","emailSet","passwordSet","logoutSet","signOut","body","open","body1","openSignIn","marginTop","marginRight","border","mapStatetoProps","state"],"mappings":"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","sourcesContent":["\r\nimport React,{useEffect} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport '../css/App.css';\r\nimport {auth,db} from '../firebaseConfig';\r\nimport ModalBody from './ModalBody';\r\nimport { Button} from '@material-ui/core';\r\nimport {emailAction,usernameAction,passwordAction,openAction,openSignInAction,userAction} from '../actions';\r\nimport {connect} from 'react-redux';\r\nimport history from '../History';\r\nimport Avatar from '@material-ui/core/Avatar';\r\n\r\nconst SimpleModal=(props)=> {\r\n\r\n  useEffect(()=>{\r\n   const unsubcrcibe= auth.onAuthStateChanged(authUser=>{\r\n      if(authUser){\r\n        console.log(authUser);\r\n        props.userAction(authUser);\r\n\r\n      }\r\n      else{\r\n        props.userAction(null);\r\n      }\r\n    });\r\n    return ()=>{\r\n      unsubcrcibe();\r\n    };\r\n  },[props.posts.user,props.posts.username]);\r\n\r\n  const signUp=event=>{\r\n    event.preventDefault();\r\n    auth.createUserWithEmailAndPassword(props.posts.email,props.posts.password)\r\n    .then(authUser=>{\r\n      console.log(authUser);\r\n      // db.collection('users').doc(authUser.user.uid).set({\r\n      //   followers:[],\r\n      //   following:[],\r\n      //   bio:'',\r\n      //   imageUrl:''\r\n      // })\r\n      return authUser.user.updateProfile({displayName:props.posts.username});\r\n    })\r\n    .catch((error)=>alert(error.message));\r\n    // setOpen(false);\r\n  };\r\n\r\n  const signIn=event=>{\r\n    event.preventDefault();\r\n    auth.signInWithEmailAndPassword(props.posts.email,props.posts.password)\r\n    .catch((error)=>alert(error.message));\r\n    \r\n    // setOpenSignIn(false);\r\n  };\r\n\r\n  const usernameSet=(obj)=>{\r\n    props.usernameAction(obj);\r\n  };\r\n  const emailSet=(obj)=>{\r\n    props.emailAction(obj);\r\n  };\r\n  const passwordSet=(obj)=>{\r\n    props.passwordAction(obj);\r\n  };\r\n  const logoutSet=()=>{\r\n    auth.signOut();\r\n    props.openAction(false);\r\n    props.openSignInAction(false);\r\n  }\r\n\r\n  // const profileUser=()=>{\r\n  //   console.log(\"inside user func\");\r\n  //   history.push('/user');\r\n    \r\n  // }\r\n\r\n\r\n       \r\n    const body =props.posts.open?\r\n      <ModalBody type=\"signup\" text=\"Sign up\" click={signUp} emailprop={props.posts.email} passwordprop={props.posts.password} usernameprop={props.posts.username} setusernameprop={usernameSet} setPasswordprop={passwordSet}  setEmailprop={emailSet} />\r\n    :<ModalBody type=\"signin\" text=\"Sign In\" click={signIn} emailprop={props.posts.email} passwordprop={props.posts.password} usernameprop={props.posts.username} setusernameprop={usernameSet} setPasswordprop={passwordSet}  setEmailprop={emailSet}   />\r\n\r\n    const body1=\r\n     props.posts.open?\r\n    <Modal\r\n      className=\"ui model\"\r\n      open={props.posts.open} \r\n      onClose={()=>props.openAction(false)} \r\n      >\r\n       {body}\r\n    </Modal>: \r\n    <Modal\r\n      className=\"ui model\"\r\n      open={props.posts.openSignIn}\r\n      onClose={()=>props.openSignInAction(false)}  >\r\n       {body} \r\n    </Modal> \r\n    \r\n\r\n  return (\r\n    <div className=\"button_sign\">\r\n      {props.posts.user?\r\n        (<div className=\"app_loggedinContainer\">\r\n        <Button  className=\"button_modal\" style={{marginTop:\"-50px\",marginRight:\"90px\"}} onClick={logoutSet}>Log out</Button>\r\n       {console.log(props.posts.user.displayName)}\r\n        <Avatar  className=\"button_modal\" style={{marginTop:\"-50px\", marginRight:\"20px\",border:\"none\"}} alt={props.posts.user.displayName} src=\"/static/images/avatar/1.jpg\" />\r\n \r\n        {/* <Button    onClick={profileUser}>Profile</Button> */}\r\n        </div>)\r\n        :(<div className=\"app_loginContainer\">\r\n          <Button className=\"button_modal\"  style={{marginTop:\"-50px\",marginRight:\"90px\"}} onClick={()=>props.openSignInAction(true)}>Sign In</Button>\r\n          <Button className=\"button_modal\"  style={{marginTop:\"-50px\"}}  onClick={()=>props.openAction(true)}>Sign up</Button>\r\n         {body1}\r\n          </div>)\r\n      }\r\n    </div>\r\n  );\r\n    };\r\n\r\n    const mapStatetoProps=(state)=>{\r\n      return { posts:state }\r\n    };\r\n\r\n\r\n    export default connect(mapStatetoProps,{emailAction,usernameAction,passwordAction,openAction,openSignInAction,userAction}) (SimpleModal);\r\n"]},"metadata":{},"sourceType":"module"}