{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\insta-clone\\\\src\\\\components\\\\modal.js\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from '@material-ui/core/Modal';\nimport '../css/App.css';\nimport { auth } from '../firebaseConfig';\nimport ModalBody from './ModalBody';\nimport { Button, Input } from '@material-ui/core';\nimport { emailAction, usernameAction, passwordAction } from '../actions';\nimport { connect } from 'react-redux';\nimport { modalRed } from '../reducers';\n\nconst SimpleModal = props => {\n  const [open, setOpen] = React.useState(false); // const [email, setEmail] = useState('');\n  // const [password, setPassword] = React.useState('');\n  // const [username,setUsername] = React.useState('');\n\n  const [user, setUser] = React.useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  useEffect(() => {\n    const unsubcrcibe = auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n    return () => {\n      unsubcrcibe();\n    };\n  }, [user, posts.username]);\n\n  const signUp = event => {\n    event.preventDefault();\n    auth.createUserWithEmailAndPassword(props.posts.email, props.posts.password).then(authUser => {\n      return authUser.user.updateProfile({\n        displayName: props.posts.username\n      });\n    }).catch(error => alert(error.message)); // setOpen(false);\n  };\n\n  const signIn = event => {\n    event.preventDefault();\n    auth.signInWithEmailAndPassword(props.posts.email, props.posts.password).catch(error => alert(error.message)); // setOpenSignIn(false);\n  };\n\n  const usernameSet = obj => {\n    props.usernameAction(obj);\n  };\n\n  const emailSet = obj => {\n    props.emailAction(obj);\n  };\n\n  const passwordSet = obj => {\n    props.passwordAction(obj);\n  };\n\n  const logoutSet = () => {\n    auth.signOut();\n    setOpen(false);\n    setOpenSignIn(false);\n  };\n\n  const body = open ? /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signup\",\n    text: \"Sign up\",\n    click: signUp,\n    email: props.posts.email,\n    password: props.posts.password,\n    username: props.posts.username,\n    setusername: usernameSet,\n    setPassword: passwordSet,\n    setEmail: emailSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }) : /*#__PURE__*/React.createElement(ModalBody, {\n    type: \"signin\",\n    text: \"Sign In\",\n    click: signIn,\n    email: props.posts.email,\n    password: props.posts.password,\n    username: props.posts.username,\n    setusername: usernameSet,\n    setPassword: passwordSet,\n    setEmail: emailSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }\n  });\n  const body1 = open ? /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: () => setOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, body) : /*#__PURE__*/React.createElement(Modal, {\n    open: openSignIn,\n    onClose: () => setOpenSignIn(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, body);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    onClick: logoutSet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, \"Log out\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpenSignIn(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 6\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, \"Sign up\"), body1));\n};\n\nconst mapStatetoProps = state => {\n  return {\n    posts: state.modalRed\n  };\n};\n\nexport default connect(mapStatetoProps, {\n  emailAction,\n  usernameAction,\n  passwordAction\n})(SimpleModal);","map":{"version":3,"sources":["D:/React/insta-clone/src/components/modal.js"],"names":["React","useState","useEffect","Modal","auth","ModalBody","Button","Input","emailAction","usernameAction","passwordAction","connect","modalRed","SimpleModal","props","open","setOpen","user","setUser","openSignIn","setOpenSignIn","unsubcrcibe","onAuthStateChanged","authUser","console","log","posts","username","signUp","event","preventDefault","createUserWithEmailAndPassword","email","password","then","updateProfile","displayName","catch","error","alert","message","signIn","signInWithEmailAndPassword","usernameSet","obj","emailSet","passwordSet","logoutSet","signOut","body","body1","mapStatetoProps","state"],"mappings":"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","sourcesContent":["\r\nimport React,{useState,useEffect} from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport '../css/App.css';\r\nimport {auth} from '../firebaseConfig';\r\nimport ModalBody from './ModalBody';\r\nimport { Button, Input } from '@material-ui/core';\r\nimport {emailAction,usernameAction,passwordAction} from '../actions';\r\nimport {connect} from 'react-redux';\r\nimport {modalRed} from '../reducers';\r\n\r\n\r\nconst SimpleModal=(props)=> {\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  // const [email, setEmail] = useState('');\r\n  // const [password, setPassword] = React.useState('');\r\n  // const [username,setUsername] = React.useState('');\r\n  const [user,setUser]=React.useState(null);\r\n  const [openSignIn,setOpenSignIn]=useState(false);\r\n\r\n  useEffect(()=>{\r\n   const unsubcrcibe= auth.onAuthStateChanged(authUser=>{\r\n      if(authUser){\r\n        console.log(authUser);\r\n        setUser(authUser);\r\n\r\n      }\r\n      else{\r\n        setUser(null);\r\n      }\r\n    });\r\n    return ()=>{\r\n      unsubcrcibe();\r\n    };\r\n  },[user,posts.username]);\r\n\r\n  const signUp=event=>{\r\n    event.preventDefault();\r\n    auth.createUserWithEmailAndPassword(props.posts.email,props.posts.password)\r\n    .then(authUser=>{\r\n      return authUser.user.updateProfile({displayName:props.posts.username});\r\n    })\r\n    .catch((error)=>alert(error.message));\r\n    // setOpen(false);\r\n  };\r\n\r\n  const signIn=event=>{\r\n    event.preventDefault();\r\n    auth.signInWithEmailAndPassword(props.posts.email,props.posts.password)\r\n    .catch((error)=>alert(error.message));\r\n    // setOpenSignIn(false);\r\n  };\r\n\r\n  const usernameSet=(obj)=>{\r\n    props.usernameAction(obj);\r\n  };\r\n  const emailSet=(obj)=>{\r\n    props.emailAction(obj);\r\n  };\r\n  const passwordSet=(obj)=>{\r\n    props.passwordAction(obj);\r\n  };\r\n  const logoutSet=()=>{\r\n    auth.signOut();\r\n    setOpen(false);\r\n    setOpenSignIn(false);\r\n  }\r\n\r\n\r\n       \r\n    const body =open?\r\n      <ModalBody type=\"signup\" text=\"Sign up\" click={signUp} email={props.posts.email} password={props.posts.password} username={props.posts.username} setusername={usernameSet} setPassword={passwordSet}  setEmail={emailSet} />\r\n    :<ModalBody type=\"signin\" text=\"Sign In\" click={signIn} email={props.posts.email} password={props.posts.password} username={props.posts.username} setusername={usernameSet} setPassword={passwordSet}  setEmail={emailSet}   />\r\n\r\n    const body1=\r\n     open?\r\n    <Modal\r\n      open={open} \r\n      onClose={()=>setOpen(false)} \r\n      >\r\n       {body}\r\n    </Modal>: \r\n    <Modal\r\n      open={openSignIn}\r\n      onClose={()=>setOpenSignIn(false)}  >\r\n       {body} \r\n    </Modal> \r\n    \r\n\r\n  return (\r\n    <div>\r\n      {user?\r\n    <Button onClick={logoutSet}>Log out</Button>\r\n  :(<div className=\"app_loginContainer\">\r\n     <Button onClick={()=>setOpenSignIn(true)}>Sign In</Button>\r\n    <Button onClick={()=>setOpen(true)}>Sign up</Button>\r\n    {body1}\r\n    </div>)\r\n      }\r\n    </div>\r\n  );\r\n    };\r\n\r\n    const mapStatetoProps=(state)=>{\r\n      return { posts:state.modalRed }\r\n    };\r\n\r\n\r\n    export default connect(mapStatetoProps,{emailAction,usernameAction,passwordAction}) (SimpleModal);\r\n"]},"metadata":{},"sourceType":"module"}